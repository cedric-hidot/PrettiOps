{% extends 'base.html.twig' %}

{% block title %}Code Editor - PrettiOps{% endblock %}

{% block body_controllers %}{{ parent() }} editor monaco-editor snippet file-attachment collaboration integration hidden-token{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    {{ encore_entry_link_tags('editor') }}
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600&family=Inter:wght@400;500;600&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
{% endblock %}

{% block body %}
<div class="editor-container min-h-screen bg-white" 
     data-controller="editor monaco-editor snippet file-attachment collaboration integration hidden-token" 
     data-editor-api-url-value="{{ path('api_snippets_post') }}"
     data-monaco-editor-language-value="javascript"
     data-monaco-editor-theme-value="vs-dark"
     data-monaco-editor-auto-save-value="true"
     data-snippet-snippet-id-value="{{ snippet.id|default('') }}"
     data-snippet-is-new-value="{{ snippet is not defined ? 'true' : 'false' }}"
     data-file-attachment-max-file-size-value="10485760"
     data-file-attachment-max-files-value="5"
     data-collaboration-snippet-id-value="{{ snippet.id|default('') }}"
     data-integration-snippet-id-value="{{ snippet.id|default('') }}">
    
    {# Tiptap-inspired Header with Glass Morphism #}
    <header class="bg-white/80 backdrop-blur-lg border-b border-gray-200/50 sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-6">
                    <h1 class="text-xl font-semibold text-gray-900" style="font-family: 'DM Sans', sans-serif;">Code Editor</h1>
                    
                    {# Auto-save Indicator #}
                    <div class="flex items-center gap-2 px-3 py-1 bg-green-50 border border-green-200 rounded-full">
                        <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse" data-editor-target="autoSaveIndicator"></div>
                        <span class="text-xs font-medium text-green-700">Auto-save</span>
                    </div>
                </div>
                
                {# Action Buttons #}
                <div class="flex items-center gap-3">
                    <button class="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"
                            data-action="click->editor#loadDraft">
                        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path>
                        </svg>
                        Load Draft
                    </button>
                    
                    <button class="inline-flex items-center px-6 py-2 text-sm font-semibold text-white bg-purple-600 rounded-lg hover:bg-purple-700 transition-colors shadow-sm"
                            data-action="click->editor#save" 
                            data-editor-target="saveButton">
                        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12"></path>
                        </svg>
                        <span data-editor-target="saveButtonText">Save Snippet</span>
                    </button>
                </div>
            </div>
        </div>
    </header>
    
    {# Main Editor Layout - Tiptap-inspired Design #}
    <div class="max-w-7xl mx-auto p-6">
        <div class="grid grid-cols-1 xl:grid-cols-3 gap-6">
            
            {# Editor Panel - Main Content Area #}
            <div class="xl:col-span-2 space-y-6">
                
                {# Snippet Header Card #}
                <div class="bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden">
                    <div class="p-6 border-b border-gray-100">
                        <div class="flex items-center justify-between mb-4">
                            <h2 class="text-lg font-semibold text-gray-900" style="font-family: 'DM Sans', sans-serif;">Snippet Details</h2>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Title</label>
                                <input type="text" 
                                       data-editor-target="title"
                                       placeholder="My awesome code snippet"
                                       class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Tags</label>
                                <input type="text" 
                                       data-editor-target="tags"
                                       placeholder="react, hooks, api"
                                       class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                            </div>
                        </div>
                        
                        <div class="mt-4">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                            <textarea data-editor-target="description"
                                      placeholder="Brief description of what this code does..."
                                      rows="2"
                                      class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none"></textarea>
                        </div>
                    </div>
                    
                    {# Toolbar - Following Tiptap Design #}
                    <div class="px-6 py-4 bg-gray-50 border-b border-gray-200">
                        <div class="flex flex-wrap items-center gap-4">
                            
                            {# Language Selector #}
                            <div class="flex items-center gap-2">
                                <label class="text-sm font-medium text-gray-700">Language:</label>
                                <select data-editor-target="language" 
                                        data-action="change->monaco-editor#changeLanguage"
                                        class="text-sm border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                    <option value="javascript">JavaScript</option>
                                    <option value="typescript">TypeScript</option>
                                    <option value="python">Python</option>
                                    <option value="php">PHP</option>
                                    <option value="java">Java</option>
                                    <option value="csharp">C#</option>
                                    <option value="cpp">C++</option>
                                    <option value="go">Go</option>
                                    <option value="rust">Rust</option>
                                    <option value="ruby">Ruby</option>
                                    <option value="sql">SQL</option>
                                    <option value="css">CSS</option>
                                    <option value="html">HTML</option>
                                    <option value="yaml">YAML</option>
                                    <option value="json">JSON</option>
                                    <option value="markdown">Markdown</option>
                                    <option value="bash">Bash</option>
                                </select>
                            </div>
                            
                            {# Theme Selector #}
                            <div class="flex items-center gap-2">
                                <label class="text-sm font-medium text-gray-700">Theme:</label>
                                <select data-editor-target="theme" 
                                        data-action="change->monaco-editor#changeTheme"
                                        class="text-sm border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                    <option value="vs-dark">VS Code Dark</option>
                                    <option value="vs-light">VS Code Light</option>
                                    <option value="github-dark">GitHub Dark</option>
                                    <option value="github-light">GitHub Light</option>
                                    <option value="monokai">Monokai</option>
                                    <option value="dracula">Dracula</option>
                                    <option value="solarized-dark">Solarized Dark</option>
                                </select>
                            </div>
                            
                            {# Action Icons Toolbar #}
                            <div class="flex items-center gap-1 ml-auto">
                                <button class="p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-md transition-colors"
                                        title="Copy Code"
                                        data-action="click->snippet-actions#copy">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                                    </svg>
                                </button>
                                
                                <button class="p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-md transition-colors"
                                        title="Export to IDE"
                                        data-action="click->snippet-actions#export">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m-2 8h4a2 2 0 002-2v-4a2 2 0 00-2-2h-4v8zM6 4h10a2 2 0 012 2v4a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"></path>
                                    </svg>
                                </button>
                                
                                <button class="p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-md transition-colors"
                                        title="Compare Versions"
                                        data-action="click->snippet-actions#compare">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path>
                                    </svg>
                                </button>
                                
                                <button class="p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-md transition-colors"
                                        title="Add Comment"
                                        data-action="click->snippet-actions#comment">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                                    </svg>
                                </button>
                                
                                <button class="p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-md transition-colors"
                                        title="Pin Snippet"
                                        data-action="click->snippet-actions#pin">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path>
                                    </svg>
                                </button>
                                
                                <button class="p-2 text-gray-600 hover:text-orange-600 hover:bg-orange-50 rounded-md transition-colors"
                                        title="Hide Sensitive Data (2FA Required)"
                                        data-action="click->hidden-token#reveal"
                                        data-hidden-token-token-id-value="example-token-123">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    {# Monaco Editor Container #}
                    <div class="relative">
                        <div data-monaco-editor-target="container" 
                             data-editor-target="container" 
                             class="h-[600px] font-mono"
                             style="font-family: 'Fira Code', monospace;"></div>
                        
                        {# Loading State #}
                        <div data-monaco-editor-target="loading" class="absolute inset-0 bg-white/90 backdrop-blur-sm flex items-center justify-center">
                            <div class="flex items-center gap-3">
                                <div class="animate-spin rounded-full h-6 w-6 border-2 border-purple-600 border-t-transparent"></div>
                                <span class="text-gray-600 font-medium">Loading Monaco Editor...</span>
                            </div>
                        </div>
                    </div>
                    
                    {# Footer with Metadata #}
                    <div class="px-6 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between text-sm text-gray-600">
                        <div class="flex items-center gap-4">
                            <span>Lines: <span data-editor-target="lineCount">0</span></span>
                            <span>Characters: <span data-editor-target="charCount">0</span></span>
                            <span>Language: <span data-editor-target="currentLanguage">JavaScript</span></span>
                        </div>
                        <div class="flex items-center gap-4">
                            <span>Theme: <span data-editor-target="currentTheme">VS Code Dark</span></span>
                            <span>Auto-save: <span class="text-green-600 font-medium">Enabled</span></span>
                        </div>
                    </div>
                </div>
            </div>
            
            {# Right Sidebar - Settings & Preview #}
            <div class="xl:col-span-1 space-y-6">
                
                {# Security Settings #}
                <div class="bg-white border border-gray-200 rounded-xl shadow-sm p-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4" style="font-family: 'DM Sans', sans-serif;">Security & Privacy</h3>
                    
                    <div class="space-y-4">
                        <label class="flex items-start gap-3">
                            <input type="checkbox" 
                                   data-editor-target="maskSensitive"
                                   class="mt-1 rounded text-purple-600 focus:ring-purple-500 focus:ring-offset-0">
                            <div>
                                <div class="font-medium text-gray-900">Hide Sensitive Data</div>
                                <div class="text-sm text-gray-600">Automatically mask API keys, tokens, and passwords</div>
                            </div>
                        </label>
                        
                        <label class="flex items-start gap-3">
                            <input type="checkbox" 
                                   data-editor-target="publicSnippet"
                                   class="mt-1 rounded text-purple-600 focus:ring-purple-500 focus:ring-offset-0">
                            <div>
                                <div class="font-medium text-gray-900">Public Snippet</div>
                                <div class="text-sm text-gray-600">Allow others to discover this snippet</div>
                            </div>
                        </label>
                        
                        <div>
                            <label class="block font-medium text-gray-900 mb-2">Link Expiration</label>
                            <select data-editor-target="expiration" class="w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                <option value="0">Never expires</option>
                                <option value="3600">1 hour</option>
                                <option value="86400" selected>24 hours</option>
                                <option value="604800">1 week</option>
                                <option value="2592000">1 month</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                {# File Attachments #}
                <div class="bg-white border border-gray-200 rounded-xl shadow-sm p-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4" style="font-family: 'DM Sans', sans-serif;">File Attachments</h3>
                    
                    {# Drop Zone #}
                    <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-purple-400 transition-colors"
                         data-file-attachment-target="dropZone">
                        <svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none" viewBox="0 0 48 48">
                            <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                        <div class="mt-2">
                            <p class="text-sm text-gray-600">Drop files here or</p>
                            <button class="text-sm text-purple-600 hover:text-purple-700 font-medium"
                                    data-action="click->file-attachment#browseFiles"
                                    data-file-attachment-target="browseButton">
                                browse to upload
                            </button>
                        </div>
                        <p class="text-xs text-gray-500 mt-2">Max 10MB, 5 files total</p>
                    </div>
                    
                    <input type="file" 
                           data-file-attachment-target="fileInput" 
                           class="hidden" 
                           multiple 
                           accept=".jpg,.jpeg,.png,.gif,.pdf,.txt,.md,.json,.xml,.zip,.rar">
                    
                    {# Attachments List #}
                    <div data-file-attachment-target="attachmentsList" class="mt-4 space-y-2">
                        {# Attachments will be rendered here dynamically #}
                    </div>
                    
                    {# Upload Progress #}
                    <div data-file-attachment-target="uploadProgress" class="hidden mt-4">
                        <div class="bg-gray-200 rounded-full h-2">
                            <div class="bg-purple-600 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                        </div>
                        <p class="text-sm text-gray-600 mt-2">Uploading files...</p>
                    </div>
                </div>
                
                {# Collaboration Panel #}
                <div class="bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden">
                    <div class="px-6 py-4 border-b border-gray-200 bg-gray-50">
                        <h3 class="text-lg font-semibold text-gray-900" style="font-family: 'DM Sans', sans-serif;">Collaboration</h3>
                    </div>
                    
                    {# Comments Section #}
                    <div class="px-6 py-4 border-b border-gray-200">
                        <h4 class="font-medium text-gray-900 mb-3">Comments</h4>
                        
                        {# Add Comment Form #}
                        <form data-action="submit->collaboration#addComment" class="mb-4">
                            <textarea 
                                data-collaboration-target="commentInput"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none"
                                rows="2"
                                placeholder="Add a comment..."
                            ></textarea>
                            <button type="submit" class="mt-2 px-3 py-1 bg-purple-600 text-white text-sm rounded-md hover:bg-purple-700 transition-colors">
                                Comment
                            </button>
                        </form>
                        
                        {# Comments List #}
                        <div data-collaboration-target="commentsList" class="space-y-3 max-h-48 overflow-y-auto">
                            {# Comments will be loaded dynamically #}
                            <div class="text-sm text-gray-500 text-center py-4">
                                No comments yet
                            </div>
                        </div>
                    </div>
                    
                    {# Version History #}
                    <div class="px-6 py-4">
                        <div class="flex items-center justify-between mb-3">
                            <h4 class="font-medium text-gray-900">Versions</h4>
                            <button class="text-xs text-purple-600 hover:text-purple-700" 
                                    data-action="click->collaboration#compareVersions">
                                Compare
                            </button>
                        </div>
                        
                        <div data-collaboration-target="versionsList" class="space-y-2 max-h-40 overflow-y-auto">
                            {# Versions will be loaded dynamically #}
                            <div class="text-sm text-gray-500 text-center py-4">
                                No versions yet
                            </div>
                        </div>
                    </div>
                </div>
                
                {# Integration Panel #}
                <div class="bg-white border border-gray-200 rounded-xl shadow-sm p-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4" style="font-family: 'DM Sans', sans-serif;">Quick Exports</h3>
                    
                    <div class="space-y-3">
                        <button class="w-full flex items-center justify-center gap-2 px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium"
                                data-action="click->integration#exportToIDE" data-ide="vscode">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
                            </svg>
                            Export for VS Code
                        </button>
                        
                        <div class="flex gap-2">
                            <button class="flex-1 flex items-center justify-center gap-1 px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm"
                                    data-action="click->integration#connectGitHub">
                                📂 GitHub
                            </button>
                            <button class="flex-1 flex items-center justify-center gap-1 px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm"
                                    data-action="click->integration#connectJira">
                                📋 Jira
                            </button>
                        </div>
                        
                        <button class="w-full flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium"
                                data-action="click->snippet#shareSnippet">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"></path>
                            </svg>
                            Get Share Link
                        </button>
                    </div>
                </div>
                
                {# Preview Panel #}
                <div class="bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden"
                     data-controller="preview-panel">
                    
                    <div class="px-6 py-4 border-b border-gray-200 bg-gray-50">
                        <div class="flex items-center justify-between">
                            <h3 class="text-lg font-semibold text-gray-900" style="font-family: 'DM Sans', sans-serif;">Live Preview</h3>
                            <button class="text-sm text-purple-600 hover:text-purple-700 font-medium"
                                    data-action="click->preview-panel#refresh">
                                Refresh
                            </button>
                        </div>
                    </div>
                    
                    <div class="p-4">
                        <div data-preview-panel-target="content" class="bg-gray-900 rounded-lg p-4 overflow-x-auto min-h-[300px] max-h-[500px] border">
                            <pre class="text-sm text-gray-400 font-mono"><code>// Your code preview will appear here as you type...
// This will show exactly how your snippet will look
// in emails with syntax highlighting and formatting.

function welcomeMessage() {
    console.log('Start typing to see live preview!');
}</code></pre>
                        </div>
                        
                        {# Preview Stats #}
                        <div class="mt-3 flex justify-between text-xs text-gray-500">
                            <span>HTML Size: <span data-preview-panel-target="size">0 KB</span></span>
                            <span>Lines: <span data-preview-panel-target="lines">0</span></span>
                            <span>Render: <span data-preview-panel-target="renderTime">0ms</span></span>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
    </div>
    
    {# Toast Notifications #}
    <div data-editor-target="toast" class="fixed top-4 right-4 z-50 hidden">
        <div class="bg-white rounded-xl shadow-lg border border-gray-200 p-4 min-w-[320px] backdrop-blur-lg bg-white/90">
            <div data-editor-target="toastContent" class="flex items-center gap-3">
                <!-- Toast content will be inserted here -->
            </div>
        </div>
    </div>
    
    {# Hidden Token Modal #}
    <div data-snippet-actions-target="hiddenTokenModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl shadow-2xl max-w-md w-full mx-4">
            <div class="p-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">Hide Sensitive Data</h3>
                <p class="text-gray-600 mb-4">Select the type of sensitive data to automatically detect and hide:</p>
                
                <div class="space-y-3 mb-6">
                    <label class="flex items-center gap-3">
                        <input type="checkbox" checked class="rounded text-purple-600">
                        <span>API Keys & Tokens</span>
                    </label>
                    <label class="flex items-center gap-3">
                        <input type="checkbox" checked class="rounded text-purple-600">
                        <span>Passwords & Secrets</span>
                    </label>
                    <label class="flex items-center gap-3">
                        <input type="checkbox" class="rounded text-purple-600">
                        <span>Database Connection Strings</span>
                    </label>
                    <label class="flex items-center gap-3">
                        <input type="checkbox" class="rounded text-purple-600">
                        <span>Email Addresses</span>
                    </label>
                </div>
                
                <div class="flex gap-3">
                    <button class="flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors"
                            data-action="click->snippet-actions#applyHiddenTokens">
                        Apply Masking
                    </button>
                    <button class="flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"
                            data-action="click->snippet-actions#closeHiddenTokenModal">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('editor') }}
{% endblock %}