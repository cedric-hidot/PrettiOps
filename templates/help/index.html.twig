{#
 # Help & Documentation Page
 # 
 # Comprehensive help system with search, categories, and guides
#}

{% extends 'base.html.twig' %}

{% block title %}Help & Documentation - PrettiOps{% endblock %}
{% block body_class %}help-page{% endblock %}

{% block content %}
<div class="min-h-screen bg-gray-50">
    
    {# Hero Section #}
    <section class="bg-gradient-to-br from-purple-600 to-purple-800 text-white py-16">
        <div class="max-w-6xl mx-auto px-6">
            <div class="text-center mb-12">
                <h1 class="text-4xl md:text-5xl font-bold mb-6">
                    How can we help you?
                </h1>
                <p class="text-xl text-purple-100 max-w-2xl mx-auto">
                    Find answers, guides, and resources to get the most out of PrettiOps
                </p>
            </div>
            
            {# Search Bar #}
            <div class="max-w-2xl mx-auto">
                <div class="relative">
                    <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                        <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </div>
                    <input 
                        type="text" 
                        placeholder="Search for help articles..."
                        class="w-full pl-12 pr-4 py-4 text-lg bg-white text-gray-900 rounded-2xl border-0 shadow-lg focus:outline-none focus:ring-4 focus:ring-purple-300"
                    >
                </div>
            </div>
        </div>
    </section>
    
    <div class="max-w-6xl mx-auto px-6 py-16">
        
        {# Quick Start Categories #}
        <section class="mb-16">
            <h2 class="text-3xl font-bold text-gray-900 text-center mb-12">Popular Topics</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="bg-white rounded-2xl shadow-sm border border-gray-200 p-6 hover:shadow-lg transition-shadow">
                    <div class="w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center mb-4">
                        <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-3">Getting Started</h3>
                    <p class="text-gray-600 mb-4">Learn the basics of creating and sharing beautiful code snippets</p>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#" class="text-purple-600 hover:text-purple-700">Creating your first snippet</a></li>
                        <li><a href="#" class="text-purple-600 hover:text-purple-700">Understanding syntax highlighting</a></li>
                        <li><a href="#" class="text-purple-600 hover:text-purple-700">Sharing snippets via email</a></li>
                    </ul>
                </div>
                
                <div class="bg-white rounded-2xl shadow-sm border border-gray-200 p-6 hover:shadow-lg transition-shadow">
                    <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center mb-4">
                        <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-3">Gmail Integration</h3>
                    <p class="text-gray-600 mb-4">Set up and use the Gmail extension for seamless code sharing</p>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#" class="text-purple-600 hover:text-purple-700">Installing the extension</a></li>
                        <li><a href="#" class="text-purple-600 hover:text-purple-700">Composing with code snippets</a></li>
                        <li><a href="#" class="text-purple-600 hover:text-purple-700">Troubleshooting issues</a></li>
                    </ul>
                </div>
                
                <div class="bg-white rounded-2xl shadow-sm border border-gray-200 p-6 hover:shadow-lg transition-shadow">
                    <div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center mb-4">
                        <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-3">Security & Privacy</h3>
                    <p class="text-gray-600 mb-4">Understand how we protect your code and sensitive data</p>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#" class="text-purple-600 hover:text-purple-700">Data encryption</a></li>
                        <li><a href="#" class="text-purple-600 hover:text-purple-700">Token masking</a></li>
                        <li><a href="#" class="text-purple-600 hover:text-purple-700">GDPR compliance</a></li>
                    </ul>
                </div>
                
                <div class="bg-white rounded-2xl shadow-sm border border-gray-200 p-6 hover:shadow-lg transition-shadow">
                    <div class="w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center mb-4">
                        <svg class="w-6 h-6 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-3">IDE Integrations</h3>
                    <p class="text-gray-600 mb-4">Connect PrettiOps with your favorite development tools</p>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#" class="text-purple-600 hover:text-purple-700">VS Code extension</a></li>
                        <li><a href="#" class="text-purple-600 hover:text-purple-700">IntelliJ plugin</a></li>
                        <li><a href="#" class="text-purple-600 hover:text-purple-700">API integration</a></li>
                    </ul>
                </div>
                
                <div class="bg-white rounded-2xl shadow-sm border border-gray-200 p-6 hover:shadow-lg transition-shadow">
                    <div class="w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center mb-4">
                        <svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-3">Billing & Plans</h3>
                    <p class="text-gray-600 mb-4">Manage your subscription and understand pricing</p>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#" class="text-purple-600 hover:text-purple-700">Upgrading your plan</a></li>
                        <li><a href="#" class="text-purple-600 hover:text-purple-700">Usage limits</a></li>
                        <li><a href="#" class="text-purple-600 hover:text-purple-700">Billing FAQ</a></li>
                    </ul>
                </div>
                
                <div class="bg-white rounded-2xl shadow-sm border border-gray-200 p-6 hover:shadow-lg transition-shadow">
                    <div class="w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center mb-4">
                        <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-3">Troubleshooting</h3>
                    <p class="text-gray-600 mb-4">Solve common issues and find quick fixes</p>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#" class="text-purple-600 hover:text-purple-700">Common errors</a></li>
                        <li><a href="#" class="text-purple-600 hover:text-purple-700">Performance issues</a></li>
                        <li><a href="#" class="text-purple-600 hover:text-purple-700">Browser compatibility</a></li>
                    </ul>
                </div>
            </div>
        </section>
        
        {# FAQ Section #}
        <section class="mb-16">
            <h2 class="text-3xl font-bold text-gray-900 text-center mb-12">Frequently Asked Questions</h2>
            
            <div class="max-w-4xl mx-auto">
                <div class="space-y-4">
                    <div class="bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden">
                        <button class="w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors" onclick="toggleFaq(this)">
                            <span class="text-lg font-semibold text-gray-900">How do I create my first code snippet?</span>
                            <svg class="w-5 h-5 text-gray-500 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="faq-content hidden px-6 pb-4">
                            <p class="text-gray-600">
                                Creating your first snippet is easy! Navigate to the editor, paste or type your code, 
                                select the programming language, add a title and description, then click "Save". 
                                Your snippet will be formatted with beautiful syntax highlighting automatically.
                            </p>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden">
                        <button class="w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors" onclick="toggleFaq(this)">
                            <span class="text-lg font-semibold text-gray-900">Is my code secure on PrettiOps?</span>
                            <svg class="w-5 h-5 text-gray-500 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="faq-content hidden px-6 pb-4">
                            <p class="text-gray-600">
                                Absolutely! We use AES-256 encryption to protect your data, automatically mask sensitive 
                                information like API keys and tokens, and comply with GDPR regulations. Your private 
                                snippets are only visible to you unless you explicitly choose to share them.
                            </p>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden">
                        <button class="w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors" onclick="toggleFaq(this)">
                            <span class="text-lg font-semibold text-gray-900">How does the Gmail integration work?</span>
                            <svg class="w-5 h-5 text-gray-500 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="faq-content hidden px-6 pb-4">
                            <p class="text-gray-600">
                                Our Gmail extension adds a PrettiOps button to your compose window. Click it to insert 
                                beautifully formatted code snippets directly into your emails. Recipients will see 
                                professionally styled code with syntax highlighting, even if they don't have PrettiOps.
                            </p>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden">
                        <button class="w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors" onclick="toggleFaq(this)">
                            <span class="text-lg font-semibold text-gray-900">What programming languages are supported?</span>
                            <svg class="w-5 h-5 text-gray-500 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="faq-content hidden px-6 pb-4">
                            <p class="text-gray-600">
                                PrettiOps supports over 150 programming languages including JavaScript, Python, Java, 
                                C++, Go, Rust, PHP, Ruby, Swift, Kotlin, and many more. We also support markup languages 
                                like HTML, CSS, Markdown, JSON, and YAML.
                            </p>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden">
                        <button class="w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors" onclick="toggleFaq(this)">
                            <span class="text-lg font-semibold text-gray-900">Can I use PrettiOps for free?</span>
                            <svg class="w-5 h-5 text-gray-500 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div class="faq-content hidden px-6 pb-4">
                            <p class="text-gray-600">
                                Yes! Our free plan includes 10 snippets per month with basic syntax highlighting and 
                                7-day link expiration. For unlimited snippets, advanced features, and extended sharing 
                                options, consider upgrading to our Pro or Team plans.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        {# Contact Support #}
        <section class="text-center">
            <div class="bg-white rounded-2xl shadow-sm border border-gray-200 p-12">
                <div class="w-16 h-16 bg-purple-100 rounded-2xl mx-auto mb-6 flex items-center justify-center">
                    <svg class="w-8 h-8 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                    </svg>
                </div>
                
                <h2 class="text-3xl font-bold text-gray-900 mb-4">Still need help?</h2>
                <p class="text-xl text-gray-600 mb-8 max-w-2xl mx-auto">
                    Can't find what you're looking for? Our support team is here to help you get the most out of PrettiOps.
                </p>
                
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <a 
                        href="mailto:support@prettiops.com"
                        class="po-button btn-primary inline-flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-xl font-semibold hover:bg-purple-700 transition-all"
                    >
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                        </svg>
                        Email Support
                    </a>
                    
                    <a 
                        href="{{ path('app_docs') }}"
                        class="po-button btn-secondary inline-flex items-center gap-2 px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-xl font-semibold hover:bg-gray-50 transition-all"
                    >
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C20.168 18.477 18.582 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                        </svg>
                        API Documentation
                    </a>
                </div>
                
                <div class="flex items-center justify-center gap-8 mt-8 text-sm text-gray-500">
                    <div class="flex items-center gap-2">
                        <svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                        </svg>
                        Usually respond within 2 hours
                    </div>
                    <div class="flex items-center gap-2">
                        <svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                        </svg>
                        Available 24/7
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>
{% endblock %}

{% block page_scripts %}
<script>
function toggleFaq(button) {
    const content = button.nextElementSibling;
    const icon = button.querySelector('svg');
    
    // Toggle content visibility
    content.classList.toggle('hidden');
    
    // Rotate icon
    icon.classList.toggle('rotate-180');
    
    // Close other open FAQs
    const allFaqs = document.querySelectorAll('.faq-content');
    const allIcons = document.querySelectorAll('button svg');
    
    allFaqs.forEach((faq, index) => {
        if (faq !== content && !faq.classList.contains('hidden')) {
            faq.classList.add('hidden');
            allIcons[index].classList.remove('rotate-180');
        }
    });
}

// Search functionality
document.addEventListener('DOMContentLoaded', function() {
    const searchInput = document.querySelector('input[placeholder="Search for help articles..."]');
    
    searchInput.addEventListener('input', function(e) {
        const query = e.target.value.toLowerCase();
        
        if (query.length > 2) {
            // Here you would typically send a search request to your backend
            console.log('Searching for:', query);
            
            // For demo purposes, we'll just highlight matching sections
            const sections = document.querySelectorAll('h3, .faq-content');
            sections.forEach(section => {
                const text = section.textContent.toLowerCase();
                if (text.includes(query)) {
                    section.style.backgroundColor = '#fef3c7';
                } else {
                    section.style.backgroundColor = '';
                }
            });
        } else {
            // Clear highlights
            const highlighted = document.querySelectorAll('[style*="background-color"]');
            highlighted.forEach(el => el.style.backgroundColor = '');
        }
    });
});
</script>
{% endblock %}