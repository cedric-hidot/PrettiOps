{#
 # Professional Form Components - Tiptap-inspired
 # 
 # Enhanced form styling with glassmorphism, smooth animations, and accessibility
#}

{# Enhanced Contact Form - Advanced Tiptap Style #}
<div class="tt-form-wrap max-w-2xl mx-auto p-8" data-controller="advanced-form" data-advanced-form-validation-value="true">
    {% include 'components/_noise_card.html.twig' with { 
        variant: 'primary', 
        content: '<form class="tt-form-fields space-y-6" data-advanced-form-target="form" data-action="submit->advanced-form#handleSubmit">'
    } only %}
        
        <!-- Form Header -->
        <div class="text-center mb-8">
            <h3 class="heading-medium text-2xl font-bold text-gray-900 mb-2">Get Started with PrettiOps</h3>
            <p class="text-gray-600">Join thousands of developers creating beautiful code snippets</p>
        </div>

        <!-- Two Column Layout -->
        <div class="form-two-cols grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="field-wrap InputWrap" data-required="true" data-controller="input-field">
                <label class="label small bold InputLabel block text-sm font-semibold text-gray-700 mb-2">
                    First name *
                </label>
                <div class="InputField" data-input-field-target="wrapper">
                    <input 
                        type="text" 
                        class="Input w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-0 transition-all duration-300 bg-white/80 backdrop-blur-sm" 
                        placeholder="Enter your first name"
                        data-input-field-target="input"
                        data-action="input->input-field#handleInput focus->input-field#handleFocus blur->input-field#handleBlur"
                        required
                    />
                    <div class="InputState" data-input-field-target="state">
                        <svg class="InputState__Icon InputState__Icon--success w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                        </svg>
                        <svg class="InputState__Icon InputState__Icon--error w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </div>
                </div>
                <div class="InputError text-sm text-red-600 mt-1 opacity-0 transition-opacity duration-200" data-input-field-target="error"></div>
            </div>
            <div class="field-wrap" data-required="true">
                <label class="label small bold block text-sm font-semibold text-gray-700 mb-2">
                    Last name *
                </label>
                <input 
                    type="text" 
                    class="input w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-0 transition-all duration-300 bg-white/80 backdrop-blur-sm" 
                    placeholder="Enter your last name"
                    required
                />
            </div>
        </div>

        <!-- Full Width Fields -->
        <div class="field-wrap" data-required="true">
            <label class="label small bold block text-sm font-semibold text-gray-700 mb-2">
                Work email *
            </label>
            <input 
                type="email" 
                class="input w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-0 transition-all duration-300 bg-white/80 backdrop-blur-sm" 
                placeholder="Please use your work email address"
                required
            />
        </div>

        <div class="field-wrap">
            <label class="label small bold block text-sm font-semibold text-gray-700 mb-2">
                Company
            </label>
            <input 
                type="text" 
                class="input w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-0 transition-all duration-300 bg-white/80 backdrop-blur-sm" 
                placeholder="Your company name"
            />
        </div>

        <div class="field-wrap">
            <label class="label small bold block text-sm font-semibold text-gray-700 mb-2">
                How did you hear about us?
            </label>
            <select class="input w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-0 transition-all duration-300 bg-white/80 backdrop-blur-sm">
                <option value="">Select an option</option>
                <option value="search">Search Engine</option>
                <option value="social">Social Media</option>
                <option value="referral">Referral</option>
                <option value="blog">Blog/Article</option>
                <option value="other">Other</option>
            </select>
        </div>

        <!-- Submit Section -->
        <div class="submit-wrap pt-4">
            <button 
                type="submit" 
                class="tt-button btn-primary w-full px-8 py-4 text-lg font-semibold rounded-xl shadow-lg hover:shadow-glow-purple transition-all duration-300"
            >
                <div class="btn-content">Start Free Trial</div>
                <div class="btn-primary-arrow">â†’</div>
            </button>
            
            <p class="text-sm text-gray-500 text-center mt-4">
                By signing up, you agree to our 
                <a href="#" class="text-purple-600 hover:text-purple-700 underline">Terms of Service</a> 
                and 
                <a href="#" class="text-purple-600 hover:text-purple-700 underline">Privacy Policy</a>
            </p>
        </div>
    </form>
        {% endembed %}
    </div>
</div>

{# Advanced Input Field Styles #}
<style>
.InputWrap {
    @apply relative;
}

.InputField {
    @apply relative;
}

.Input {
    @apply relative z-10;
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(8px);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.Input:focus {
    @apply bg-white;
    backdrop-filter: blur(12px);
    box-shadow: 0 0 0 3px rgba(111, 0, 255, 0.1), 0 4px 12px rgba(111, 0, 255, 0.15);
}

.InputState {
    @apply absolute right-3 top-1/2 transform -translate-y-1/2 z-20;
}

.InputState__Icon {
    @apply hidden text-gray-400 transition-all duration-200;
}

.InputState__Icon--success {
    @apply text-green-500;
}

.InputState__Icon--error {
    @apply text-red-500;
}

.InputWrap.is-valid .InputState__Icon--success {
    @apply block;
}

.InputWrap.is-error .InputState__Icon--error {
    @apply block;
}

.InputWrap.is-valid .Input {
    @apply border-green-500 bg-green-50/80;
}

.InputWrap.is-error .Input {
    @apply border-red-500 bg-red-50/80;
}

.InputWrap.is-error .InputError {
    @apply opacity-100;
}

.InputLabel {
    @apply transition-all duration-200;
}

.InputWrap:focus-within .InputLabel {
    @apply text-purple-600;
}

/* Floating Animation */
.Input:focus + .InputState,
.Input:not(:placeholder-shown) + .InputState {
    @apply transform -translate-y-1/2 scale-110;
}

/* Glassmorphism Enhancement */
.Input:hover {
    backdrop-filter: blur(10px);
}

/* Dark Mode */
@media (prefers-color-scheme: dark) {
    .Input {
        @apply bg-gray-900/80 border-gray-700 text-white;
    }
    
    .Input:focus {
        @apply bg-gray-900 border-purple-400;
        box-shadow: 0 0 0 3px rgba(111, 0, 255, 0.3);
    }
    
    .InputLabel {
        @apply text-gray-300;
    }
}
</style>

{# Badge System Examples #}
<div class="flex items-center gap-4 flex-wrap justify-center py-8">
    <!-- Status Badges -->
    <span class="batch-outline nav bg-green-50 text-green-700 border-green-200 px-3 py-1.5 rounded-full text-sm font-medium">
        Open source
    </span>
    <span class="batch-outline nav bg-blue-50 text-blue-700 border-blue-200 px-3 py-1.5 rounded-full text-sm font-medium">
        Beta
    </span>
    <span class="tt-batch batch-primary bg-gradient-to-r from-purple-600 to-purple-700 text-white px-3 py-1.5 rounded-full text-sm font-semibold">
        Free
    </span>
    <span class="tt-batch batch-secondary bg-gray-100 text-gray-700 px-3 py-1.5 rounded-full text-sm font-semibold">
        Pro
    </span>
    <span class="batch-outline nav bg-amber-50 text-amber-700 border-amber-200 px-3 py-1.5 rounded-full text-sm font-medium">
        Coming Soon
    </span>
</div>

{# Enhanced Tab Component #}
<div 
    class="tt-code-tabs max-w-4xl mx-auto my-12"
    data-controller="tabs"
    data-tabs-transition-duration-value="300"
    data-tabs-enable-keyboard-value="true"
>
    <div class="tt-tab-menu flex bg-purple-50/50 backdrop-blur-sm rounded-t-xl border-b border-purple-100" data-tabs-target="tabMenu">
        <button 
            class="tt-tab-btn px-6 py-3 text-sm font-medium text-gray-600 hover:text-purple-700 hover:bg-purple-50 transition-all duration-300 rounded-tl-xl border-b-2 border-transparent focus:outline-none focus:border-purple-500"
            data-tabs-target="tabButton"
            data-tab-index="0"
        >
            Installation
        </button>
        <button 
            class="tt-tab-btn px-6 py-3 text-sm font-medium text-gray-600 hover:text-purple-700 hover:bg-purple-50 transition-all duration-300 border-b-2 border-transparent focus:outline-none focus:border-purple-500"
            data-tabs-target="tabButton" 
            data-tab-index="1"
        >
            Configuration
        </button>
        <button 
            class="tt-tab-btn px-6 py-3 text-sm font-medium text-gray-600 hover:text-purple-700 hover:bg-purple-50 transition-all duration-300 rounded-tr-xl border-b-2 border-transparent focus:outline-none focus:border-purple-500"
            data-tabs-target="tabButton"
            data-tab-index="2"
        >
            Usage
        </button>
        
        <!-- Tab Indicator -->
        <div class="tab-indicator absolute bottom-0 h-0.5 bg-gradient-to-r from-purple-600 to-purple-700 rounded-full transition-all duration-300" data-tabs-target="indicator"></div>
    </div>
    
    <div class="tt-code-tabs-content bg-white rounded-b-xl border border-t-0 border-purple-100" data-tabs-target="tabContent">
        <div class="p-6 transition-all duration-300" data-tabs-target="tabPane">
            <h3 class="text-lg font-semibold text-gray-900 mb-3">Quick Installation</h3>
            <div class="bg-gray-900 rounded-lg p-4 text-green-400 font-mono text-sm overflow-x-auto">
                <code>npm install @prettiops/core<br/>
                # or<br/>
                yarn add @prettiops/core</code>
            </div>
            <p class="text-gray-600 mt-4">Install PrettiOps via npm or yarn to get started with beautiful code snippets.</p>
        </div>
        
        <div class="p-6 transition-all duration-300 hidden" data-tabs-target="tabPane">
            <h3 class="text-lg font-semibold text-gray-900 mb-3">Basic Configuration</h3>
            <div class="bg-gray-900 rounded-lg p-4 text-blue-400 font-mono text-sm overflow-x-auto">
                <code>{
  "theme": "purple",
  "language": "auto-detect",
  "sharing": {
    "enabled": true,
    "expiry": "7d"
  }
}</code>
            </div>
            <p class="text-gray-600 mt-4">Configure PrettiOps with your preferred theme and sharing settings.</p>
        </div>
        
        <div class="p-6 transition-all duration-300 hidden" data-tabs-target="tabPane">
            <h3 class="text-lg font-semibold text-gray-900 mb-3">Basic Usage</h3>
            <div class="bg-gray-900 rounded-lg p-4 text-yellow-400 font-mono text-sm overflow-x-auto">
                <code>import { PrettiOps } from '@prettiops/core';<br/><br/>
                const snippet = new PrettiOps({<br/>
                &nbsp;&nbsp;code: 'console.log("Hello World!");',<br/>
                &nbsp;&nbsp;language: 'javascript'<br/>
                });<br/><br/>
                snippet.render();</code>
            </div>
            <p class="text-gray-600 mt-4">Create and render beautiful code snippets with just a few lines of code.</p>
        </div>
    </div>
</div>

<style>
/* Enhanced focus states for accessibility */
.field-wrap input:focus,
.field-wrap select:focus {
    box-shadow: 0 0 0 3px rgba(111, 0, 255, 0.1);
}

/* Enhanced form validation */
.field-wrap[data-required="true"] input:invalid {
    border-color: #ef4444;
}

.field-wrap[data-required="true"] input:valid {
    border-color: #10b981;
}

/* Smooth transitions for form elements */
.field-wrap input,
.field-wrap select {
    transition: all 0.3s cubic-bezier(0.22, 1, 0.36, 1);
}

/* Tab indicator animation */
.tab-indicator {
    transition: all 0.3s cubic-bezier(0.22, 1, 0.36, 1);
}

/* Badge hover effects */
.batch-outline:hover,
.tt-batch:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(111, 0, 255, 0.15);
}
</style>