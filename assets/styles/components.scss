/*
 * Component-specific styles using Tailwind's @apply directive
 * These match the design system components exactly
 */

@layer components {
    /* Button Components */
    .btn {
        @apply inline-flex items-center justify-center gap-2 px-6 py-3 text-sm font-medium border border-transparent rounded-md cursor-pointer transition-all duration-200 ease-out no-underline whitespace-nowrap;
        
        &:disabled {
            @apply opacity-50 cursor-not-allowed;
        }
        
        &.btn-sm {
            @apply px-4 py-2 text-xs;
        }
        
        &.btn-lg {
            @apply px-8 py-4 text-base;
        }
        
        &.btn-primary {
            background: linear-gradient(135deg, var(--purple-primary), #7c3aed);
            @apply text-white shadow-sm;
            
            &:hover:not(:disabled) {
                background: linear-gradient(135deg, var(--purple-hover), #6d28d9);
                @apply -translate-y-px shadow-lg;
            }
            
            &:active:not(:disabled) {
                @apply translate-y-0;
            }
        }
        
        &.btn-secondary {
            @apply bg-white text-purple-600 border-purple-primary;
            
            &:hover:not(:disabled) {
                @apply bg-purple-50 -translate-y-px;
            }
        }
        
        &.btn-ghost {
            @apply bg-transparent text-gray-600;
            
            &:hover:not(:disabled) {
                @apply bg-gray-100 text-gray-900;
            }
        }
        
        &.btn-danger {
            @apply bg-red-500 text-white;
            
            &:hover:not(:disabled) {
                @apply bg-red-600 -translate-y-px;
            }
        }
    }
    
    /* Form Components */
    .form-group {
        @apply mb-5;
    }
    
    .form-label {
        @apply block text-sm font-medium text-gray-700 mb-2;
    }
    
    .form-input {
        @apply w-full px-4 py-3 text-sm border border-gray-300 rounded-md bg-white transition-all duration-200 ease-out;
        font-family: var(--font-body);
        
        &:focus {
            @apply outline-none border-purple-primary;
            box-shadow: 0 0 0 3px rgba(111, 0, 255, 0.1);
        }
        
        &:invalid:not(:focus):not(:placeholder-shown) {
            @apply border-red-500;
        }
        
        &::placeholder {
            @apply text-gray-400;
        }
        
        &.form-textarea {
            @apply resize-y;
            min-height: 100px;
        }
        
        &.form-select {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
            @apply bg-no-repeat pr-10;
            background-position: right 0.5rem center;
            background-size: 1.5em 1.5em;
        }
    }
    
    .form-help {
        @apply text-xs text-gray-500 mt-1;
    }
    
    .form-error {
        @apply text-xs text-red-500 mt-1;
    }
    
    /* Card Components */
    .card {
        @apply bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm;
        
        .card-header {
            @apply px-6 py-6 border-b border-gray-100;
        }
        
        .card-title {
            @apply text-lg font-semibold text-gray-900;
            font-family: var(--font-display);
        }
        
        .card-body {
            @apply px-6 py-6;
        }
        
        .card-footer {
            @apply px-6 py-6 border-t border-gray-100 bg-gray-50;
        }
    }
    
    /* Alert Components */
    .alert {
        @apply px-4 py-4 rounded-md border mb-4;
        
        &.alert-success {
            @apply bg-green-50 text-green-800 border-green-200;
        }
        
        &.alert-warning {
            @apply bg-yellow-50 text-yellow-800 border-yellow-200;
        }
        
        &.alert-error {
            @apply bg-red-50 text-red-800 border-red-200;
        }
        
        &.alert-info {
            @apply bg-blue-50 text-blue-800 border-blue-200;
        }
    }
    
    /* Badge Components */
    .badge {
        @apply inline-flex items-center px-3 py-1 text-xs font-medium rounded-full;
        
        &.badge-primary {
            @apply bg-purple-100 text-purple-800;
        }
        
        &.badge-success {
            @apply bg-green-100 text-green-800;
        }
        
        &.badge-warning {
            @apply bg-yellow-100 text-yellow-800;
        }
        
        &.badge-error {
            @apply bg-red-100 text-red-800;
        }
    }
    
    /* Loading Spinner */
    .loading-spinner {
        @apply inline-block w-4 h-4 border-2 border-gray-200 rounded-full;
        border-top-color: var(--purple-primary);
        animation: spin 0.8s linear infinite;
    }
    
    /* Navbar Component */
    .navbar {
        @apply sticky top-0 border-b border-gray-200 z-50;
        background: var(--glass-bg);
        backdrop-filter: var(--glass-blur);
        height: var(--navbar-height);
        
        .navbar-content {
            @apply max-w-7xl mx-auto flex items-center justify-between px-6 h-full;
        }
        
        .navbar-brand {
            @apply flex items-center gap-3 no-underline;
        }
        
        .navbar-logo {
            @apply w-8 h-8 rounded-md flex items-center justify-center text-white font-bold;
            background: linear-gradient(135deg, var(--purple-primary), #9333ea);
            font-family: var(--font-display);
        }
        
        .navbar-title {
            @apply text-xl font-bold text-gray-900;
            font-family: var(--font-display);
        }
        
        .navbar-nav {
            @apply flex items-center gap-6;
        }
        
        .navbar-link {
            @apply text-gray-600 no-underline text-sm font-medium transition-colors duration-200;
            
            &:hover {
                @apply text-gray-900;
            }
        }
    }
    
    /* Code Editor Styles */
    .code-editor {
        @apply border border-gray-200 rounded-md overflow-hidden;
        
        .code-toolbar {
            @apply bg-gray-50 border-b border-gray-200 px-4 py-2 flex items-center justify-between;
            height: var(--editor-toolbar-height);
        }
        
        .code-content {
            @apply bg-gray-900 text-gray-100 p-4 overflow-auto;
            min-height: var(--editor-min-height);
            font-family: var(--font-mono);
            font-size: var(--text-sm);
            line-height: 1.5;
        }
    }
    
    /* Modal Components */
    .modal-backdrop {
        @apply fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4;
        backdrop-filter: blur(4px);
    }
    
    .modal {
        @apply bg-white rounded-xl shadow-2xl w-full;
        max-width: var(--modal-max-width);
        
        .modal-header {
            @apply px-6 py-4 border-b border-gray-100;
        }
        
        .modal-title {
            @apply text-lg font-semibold text-gray-900;
            font-family: var(--font-display);
        }
        
        .modal-body {
            @apply px-6 py-4;
        }
        
        .modal-footer {
            @apply px-6 py-4 border-t border-gray-100 flex items-center justify-end gap-3;
        }
    }
    
    /* Dropdown Components */
    .dropdown {
        @apply relative inline-block;
        
        .dropdown-content {
            @apply absolute top-full right-0 mt-1 bg-white border border-gray-200 rounded-md shadow-lg z-50 min-w-48 py-1;
            
            .dropdown-item {
                @apply block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 no-underline;
            }
        }
    }
    
    /* Responsive utilities */
    @media (max-width: 768px) {
        .navbar-nav {
            @apply hidden;
        }
        
        .card {
            @apply mx-4;
        }
        
        .modal {
            @apply mx-4;
        }
    }
}