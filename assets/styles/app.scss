/*
 * PrettiOps Main Stylesheet
 * Combining design system tokens with Tailwind CSS utilities
 */

/* Import Tailwind CSS */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import design system tokens as CSS custom properties */
@import url('./design-system.css');

/* Import component styles */
@import url('./components.scss');

/* Import enhanced Tiptap-inspired styles */
@import url('./tiptap-enhanced.css');

/* Global base styles */
@layer base {
    /* Reset and normalize */
    *,
    *::before,
    *::after {
        box-sizing: border-box;
    }
    
    html {
        scroll-behavior: smooth;
        font-family: var(--font-body);
        line-height: var(--leading-normal);
        color: var(--gray-700);
        background: var(--gray-50);
    }
    
    body {
        margin: 0;
        padding: 0;
        min-height: 100vh;
        font-size: var(--text-base);
        line-height: var(--leading-normal);
        
        /* Improve font rendering */
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        text-rendering: optimizeLegibility;
        
        /* Support for reduced motion */
        @media (prefers-reduced-motion: reduce) {
            scroll-behavior: auto;
        }
    }
    
    /* Typography base styles */
    h1, h2, h3, h4, h5, h6 {
        font-family: var(--font-display);
        font-weight: var(--font-semibold);
        line-height: var(--leading-tight);
        color: var(--gray-900);
        margin: 0;
    }
    
    h1 { font-size: var(--text-3xl); }
    h2 { font-size: var(--text-2xl); }
    h3 { font-size: var(--text-xl); }
    h4 { font-size: var(--text-lg); }
    h5 { font-size: var(--text-base); }
    h6 { font-size: var(--text-sm); }
    
    p, div, span {
        margin: 0;
    }
    
    a {
        color: var(--purple-primary);
        text-decoration: none;
        transition: color var(--transition-base);
        
        &:hover {
            color: var(--purple-hover);
        }
    }
    
    /* Form elements base styles */
    input, textarea, select, button {
        font-family: inherit;
        font-size: inherit;
        line-height: inherit;
    }
    
    button {
        cursor: pointer;
        border: none;
        background: none;
        padding: 0;
        margin: 0;
    }
    
    /* Focus styles for accessibility */
    :focus-visible {
        outline: 2px solid var(--purple-primary);
        outline-offset: 2px;
        border-radius: var(--radius-sm);
    }
    
    /* Screen reader only utility */
    .sr-only {
        position: absolute !important;
        width: 1px !important;
        height: 1px !important;
        padding: 0 !important;
        margin: -1px !important;
        overflow: hidden !important;
        clip: rect(0, 0, 0, 0) !important;
        white-space: nowrap !important;
        border: 0 !important;
    }
}

/* Dark mode styles */
@media (prefers-color-scheme: dark) {
    :root {
        --white: var(--dark-surface);
        --gray-50: var(--dark-bg);
        --gray-100: #1e293b;
        --gray-200: #334155;
        --gray-300: #475569;
        --gray-400: #64748b;
        --gray-500: #94a3b8;
        --gray-600: var(--dark-text);
        --gray-700: #e2e8f0;
        --gray-800: #f1f5f9;
        --gray-900: #f8fafc;
        --black: #ffffff;
        
        /* Adjust shadows for dark mode */
        --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
        --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.3);
        --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.3);
        --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.3);
        --shadow-2xl: 0 25px 50px rgba(0, 0, 0, 0.5);
    }
}

/* Forced dark mode class styles */
.dark {
    --white: var(--dark-surface);
    --gray-50: var(--dark-bg);
    --gray-100: #1e293b;
    --gray-200: #334155;
    --gray-300: #475569;
    --gray-400: #64748b;
    --gray-500: #94a3b8;
    --gray-600: var(--dark-text);
    --gray-700: #e2e8f0;
    --gray-800: #f1f5f9;
    --gray-900: #f8fafc;
    --black: #ffffff;
}

/* Turbo loading progress bar */
.turbo-progress-bar {
    background: linear-gradient(90deg, var(--purple-primary), #7c3aed);
    height: 3px;
}

/* Loading states */
.loading {
    position: relative;
    overflow: hidden;
    
    &::after {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
            90deg, 
            transparent, 
            rgba(111, 0, 255, 0.1), 
            transparent
        );
        animation: loading-shimmer 1.5s infinite;
    }
}

@keyframes loading-shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(200%); }
}

/* Print styles */
@media print {
    .no-print {
        display: none !important;
    }
    
    body {
        background: white !important;
        color: black !important;
    }
    
    a {
        text-decoration: underline !important;
        color: black !important;
    }
}